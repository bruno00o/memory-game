function random(n) {
    return Math.floor(n * Math.random());
}

function swap(array, a, b) {
    let temp = array[a];
    array[a] = array[b];
    array[b] = temp;
    return array
}

function shuffleCards(length) {
    var cards = [];
    for (var i = 0; i < length; i++) {
        cards.push(i);
    }
    for (let i = 0; i < cards.length; i++) {
        swap(cards, i, random(cards.length - 1));
    }
    return cards;
}

function responsiveGameArea(nCards, gameArea) {
    let dividers = [];
    for (let i = 1; i <= nCards; i++) {
        if (nCards % i == 0 && i != nCards && i != 1) {
            dividers.push(i);
        }
    }
    gameArea.style.gridTemplateColumns = "repeat(" + dividers[Math.floor(dividers.length / 2)] + ", 1fr)";
    let i = 0;
    while (window.innerHeight < document.body.scrollHeight) {
        if (i >= dividers.length) {
            break;
        }
        gameArea.style.gridTemplateColumns = "repeat(" + dividers[i] + ", 1fr)";
        i++;
    }
    i = 1;
    while (document.body.offsetWidth < document.body.scrollWidth) {
        if (dividers.length - i < 0) {
            break;
        }
        gameArea.style.gridTemplateColumns = "repeat(" + dividers[dividers.length - i] + ", 1fr)";
        i++;
    }
}

function selectImages(nCards, images) {
    let nImages = nCards / 2;
    let selectedImages = [];
    for (let i = 0; i < nImages; i++) {
        let random = Math.floor(Math.random() * images.length);
        selectedImages.push(images[random]);
        images.splice(random, 1);
    }
    return selectedImages;
}

function checkWin() {
    let matchedCards = document.getElementsByClassName("matched");
    let cards = document.getElementsByClassName("card");
    if (matchedCards.length == cards.length) {
        setTimeout(() => {
            let win = document.getElementById("win");
            let gameArea = document.getElementById("gameArea");
            let intro = document.getElementById("intro");
            win.style.display = "flex";
            let restart = document.getElementById("restart");
            gameArea.style.display = "none";
            restart.addEventListener('click', function () {
                win.style.display = "none";
                while (gameArea.firstChild) {
                    gameArea.removeChild(gameArea.firstChild);
                }
                intro.style.display = "flex";
            });
        }, 1250);
    }
}

function checkSameCards() {
    let flippedCards = document.getElementsByClassName("flip");
    if (flippedCards.length == 2) {
        let firstCard = flippedCards[0];
        let secondCard = flippedCards[1];
        if (firstCard.innerHTML == secondCard.innerHTML) {
            firstCard.classList.add("matched");
            secondCard.classList.add("matched");
            firstCard.classList.remove("flip");
            secondCard.classList.remove("flip");
            setTimeout(() => {
                firstCard.style.opacity = ".8";
                secondCard.style.opacity = ".8";
            }, 750);
        } else {
            setTimeout(() => {
                firstCard.classList.remove("flip");
                secondCard.classList.remove("flip");
                firstCard.classList.add("flipBack");
                secondCard.classList.add("flipBack");
            }, 1000);
        }
    }
    checkWin();
}

function createCards(selectedImages, nCards) {
    let shuffledCards = shuffleCards(nCards);
    let nImages = nCards / 2;
    let k = 0;
    for (let i = 0; i < nImages; i++) {
        for (let j = 0; j < 2; j++) {
            let card = document.createElement("div");
            card.classList.add("card");
            card.innerHTML = selectedImages[i];
            card.addEventListener('click', function () {
                if (document.getElementsByClassName("flip").length < 2) {
                    if (!(card.classList.contains("flip"))) {
                        card.classList.add('flip');
                        card.classList.remove('flipBack');
                    }
                }
            });
            card.onclick = checkSameCards;
            card.style.opacity = "0";
            card.style.pointerEvents = "none";
            shuffledCards[shuffledCards.indexOf(k)] = card;
            k++;
        }
    }
    return shuffledCards;
}

function positionDeck(gameArea, nCards) {
    let cardWidth = document.getElementsByClassName("card")[0].offsetWidth;
    let cardHeight = document.getElementsByClassName("card")[0].offsetHeight;

    for (let i = 0; i < nCards; i++) {
        let card = document.createElement("div");
        card.classList.add("card");
        card.classList.add("shuffle");
        card.style.width = cardWidth + "px";
        card.style.height = cardHeight + "px";
        card.style.position = "absolute";
        card.style.left = (gameArea.offsetWidth - cardWidth) / 2 + "px";
        card.style.top = (gameArea.offsetHeight - cardHeight) / 2 + "px";
        card.style.transform = "translate(50%, 50%)";
        gameArea.appendChild(card);
    }
}

function animateShuffle(shuffledCards, nCards) {
    let absoluteCards = document.getElementsByClassName("shuffle");
    let i = 0;

    let interval = setInterval(function () {
        let shuffledCard = shuffledCards[i];
        let shuffledCardX = shuffledCard.offsetLeft;
        let shuffledCardY = shuffledCard.offsetTop;
        absoluteCards[i].style.transform = "none";

        absoluteCards[i].style.left = shuffledCardX + "px";
        absoluteCards[i].style.top = shuffledCardY + "px";

        i++;
        if (i == nCards) {
            setTimeout(() => {
                for (let j = 0; j < nCards; j++) {
                    absoluteCards[j].style.display = "none";
                    absoluteCards[j].classList.remove("card");
                    shuffledCards[j].style.opacity = "1";
                    shuffledCards[j].style.pointerEvents = "auto";
                }
            }, 350);

            clearInterval(interval);
        }
    }, 100);
}

window.onload = function () {
    const images = ['<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 48 48"><path d="M24,6.6,7.93,12.33l2.42,21.16L24,41.4l13.65-7.91,2.42-21.16ZM36.57,32.74,24,40,11.43,32.74,9.2,13.26,24,8l14.8,5.28Z" /><path d="M24,9l-13.87,5,2.09,18.26L24,39l11.78-6.84,2.09-18.26Zm5.86,22.6-2.05-4.88H20.19l-2.05,4.88h-3.9L24,10.24l9.76,21.33Z" /><polygon points="21.31 24 26.69 24 24 17.59 21.31 24" /></svg>', '<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 48 48"><path d="M42.91,10.92l-17-9.84a3.77,3.77,0,0,0-3.76,0l-17,9.84a3.75,3.75,0,0,0-1.87,3.25V33.83a3.75,3.75,0,0,0,1.87,3.25l17,9.84a3.77,3.77,0,0,0,3.76,0l17-9.84a3.75,3.75,0,0,0,1.87-3.25V14.17A3.75,3.75,0,0,0,42.91,10.92ZM23.7,37.15c-8.55,0-12.94-5.44-12.94-13s5-13.38,13.3-13.38c9.26,0,11.84,6.1,12,9H28.62c-.46-2.06-1.73-3.49-4.7-3.49-3.48,0-5.45,2.8-5.45,7.69,0,5.37,2.09,7.82,5.42,7.82a4.62,4.62,0,0,0,4.69-3.32h7.47C35.1,32.62,31.88,37.15,23.7,37.15Zm17.42-14h-1l-.3,1.23h.81v1.11H39.57l-.43,1.79h-1l.44-1.79H37.47L37,27.24H36l.44-1.79h-.78V24.34h1.06L37,23.11h-.85V22h1.12l.41-1.65h1L38.31,22h1.11l.4-1.65h1L40.41,22h.72Z" /><polygon points="37.74 24.34 38.84 24.34 39.14 23.11 38.04 23.11 37.74 24.34" /></svg>', '<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 48 48"><path d="M27.72 21.5a1.27 1.27 0 0 0-1.43 1.38c0 .73.4 1.24 1.39 1.24a1.27 1.27 0 0 0 1.4-1.27 1.23 1.23 0 0 0-1.36-1.35zm-1.64 6.86a1.29 1.29 0 0 0-.39.79c0 .6.76.78 1.81.78.86 0 2-.07 2-.87 0-.48-.56-.51-1.28-.55l-2.18-.15zm4.42-6.81a2.35 2.35 0 0 1 .55 1.51c0 1.65-1.3 2.62-3.18 2.62a5 5 0 0 1-1.18-.13l-.49.79 1.46.09c2.58.17 4.11.24 4.11 2.23 0 1.71-1.51 2.68-4.11 2.68s-3.73-.68-3.73-1.86A2 2 0 0 1 24.75 28a1 1 0 0 1-.66-1 1.36 1.36 0 0 1 .43-.91c.27-.29.57-.57.93-.9a2.38 2.38 0 0 1-1.28-2.24c0-1.72 1.13-2.9 3.42-2.9a5.08 5.08 0 0 1 1.37.15h2.91v1.27l-1.37.11M34.5 18.83a1.22 1.22 0 0 1-1.34-1.34 1.35 1.35 0 0 1 2.7 0A1.23 1.23 0 0 1 34.5 18.83zm-1.93 9V26.63l.77-.11c.21 0 .24-.07.24-.29v-4.4a.28.28 0 0 0-.2-.31l-.81-.28L32.74 20h3.09v6.2c0 .23 0 .26.24.29l.76.11v1.18H32.57M42.74 27.23a6 6 0 0 1-2.44.6c-1.77 0-2.45-.72-2.45-2.41V21.51c0-.09 0-.15-.12-.15h-1V20c1.31-.15 1.84-.81 2-2.43h1.42v2.12c0 .1 0 .15.12.15h2.1v1.49H40.11v3.57c0 .88.21 1.22 1 1.22a3.39 3.39 0 0 0 1.21-.24l.41 1.32M20.61 23.31l-6.83-6.83a1 1 0 0 0-1.43 0L10.94 17.9l1.8 1.8A1.21 1.21 0 0 1 14 20a1.22 1.22 0 0 1 .28 1.24L16 23a1.2 1.2 0 0 1 1.24 2 1.21 1.21 0 0 1-1.69 0 1.19 1.19 0 0 1-.26-1.31L13.65 22v4.25a1.36 1.36 0 0 1 .32.23 1.2 1.2 0 0 1-1.7 1.69 1.19 1.19 0 0 1 0-1.69 1.07 1.07 0 0 1 .39-.26v-4.3A1.2 1.2 0 0 1 12 20.37L10.24 18.6 5.56 23.28a1 1 0 0 0 0 1.42l6.83 6.83a1 1 0 0 0 1.42 0l6.8-6.79a1 1 0 0 0 0-1.43" /></svg>', '<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 48 48"><path d="M5.74,3.65,9.16,40.14l15,4.21,14.66-4.21L42.26,3.65Zm29,12.06H17.49L17.72,20H34.14L33.05,34.54,23.59,37,14.3,34.31l-.78-7.08,4.9.08.15,3,5,1.79,5.18-1.63L29.08,25l-15.72-.31-.93-13.38H34.76Z" /></svg>', '<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 48 48"><path d="M20.44 24.3s-1 .6.73.81a15.68 15.68 0 0 0 5.59-.24 9.4 9.4 0 0 0 1.48.72c-5.28 2.27-11.95-.13-7.8-1.29zM19.79 21.35s-1.15.86.61 1A21.72 21.72 0 0 0 27.61 22a3.17 3.17 0 0 0 1.11.68c-6.38 1.87-13.49.15-8.93-1.37zM25.23 16.34a2 2 0 0 1-.34 2.85s3.3-1.71 1.79-3.84-2.51-3 3.37-6.39c0 0-9.23 2.3-4.82 7.38z" /><path d="M32.21 26.49s.77.63-.84 1.11c-3 .93-12.68 1.2-15.36 0-1-.42.85-1 1.41-1.12a3.81 3.81 0 0 1 .93-.11c-1.07-.75-6.91 1.48-3 2.12 10.76 1.75 19.62-.78 16.82-2zM20.93 18.29S16 19.46 19.2 19.88a36.49 36.49 0 0 0 6.48-.07c2-.17 4.07-.54 4.07-.54a9.06 9.06 0 0 0-1.24.66c-5 1.31-14.59.7-11.82-.63a9.19 9.19 0 0 1 4.24-1zM29.73 23.21c5.06-2.63 2.72-5.16 1.08-4.82a4 4 0 0 0-.57.16.86.86 0 0 1 .43-.34c3.23-1.13 5.71 3.35-1 5.13a.64.64 0 0 0 .1-.13zM26.68 3.45s2.8 2.8-2.66 7.11C19.64 14 23 16 24 18.24c-2.56-2.3-4.43-4.33-3.18-6.22 1.85-2.77 7-4.12 5.84-8.57z" /><path d="M21.43 30.33c4.86.31 12.32-.17 12.49-2.47 0 0-.34.87-4 1.56a39.93 39.93 0 0 1-12.29.19s.62.52 3.81.72zM33.7 34.45h-.15v-.08H34v.08H33.8v.42h-.1v-.42zm.79 0h0l-.14.4h-.07l-.15-.4h0v.4H34v-.5h.15l.13.35.14-.35h.14v.5h-.1v-.4zM20.64 39.11a2.21 2.21 0 0 1-1.38.62.88.88 0 0 1-1-1c0-.64.36-1.11 1.8-1.11h.54v1.46zm1.26 1.43V36.12c0-1.12-.64-1.87-2.19-1.87a5.74 5.74 0 0 0-2.35.51l.19.78a5.34 5.34 0 0 1 1.81-.36c.89 0 1.28.36 1.28 1.11v.55h-.45C18 36.84 17 37.69 17 39c0 1.09.65 1.71 1.86 1.71a2.82 2.82 0 0 0 1.91-.79l.1.67zM26.12 40.54H24.54l-1.9-6.18H24l1.18 3.8.26 1.14a23.49 23.49 0 0 0 1.23-4.94H28a25.26 25.26 0 0 1-1.91 6.18zM32.17 39.11a2.21 2.21 0 0 1-1.38.62.87.87 0 0 1-.95-1c0-.64.36-1.11 1.79-1.11h.54v1.46zm1.26 1.43V36.12c0-1.12-.64-1.87-2.19-1.87a5.74 5.74 0 0 0-2.35.51l.19.78a5.34 5.34 0 0 1 1.81-.36c.89 0 1.28.36 1.28 1.11v.55h-.45c-2.17 0-3.15.85-3.15 2.11 0 1.09.65 1.71 1.86 1.71a2.82 2.82 0 0 0 1.91-.79l.1.67zM15.65 41.59a3.38 3.38 0 0 1-1.58 1.18L13.45 42a2.64 2.64 0 0 0 1.09-1 4 4 0 0 0 .24-1.79v-7h1.34v6.95a4 4 0 0 1-.47 2.47z" /></svg>', '<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 48 48"><path d="M6.8,6.8V41.2H41.2V6.8ZM25.53,32.59c0,4.23-2.05,5.64-5.09,5.64a7.65,7.65,0,0,1-2.34-.37l.34-2.26a5.19,5.19,0,0,0,1.72.28c1.6,0,2.57-.72,2.57-3.38V22.66h2.8Zm6.52,5.62a9,9,0,0,1-4.14-1l.62-2.32a7.76,7.76,0,0,0,3.7,1C34,35.9,35,35.06,35,33.81S34.24,32,32.3,31.27c-2.53-.9-4.14-2.26-4.14-4.45,0-2.51,2.09-4.4,5.42-4.4a8.06,8.06,0,0,1,3.67.76l-.67,2.25a6.63,6.63,0,0,0-3.06-.72c-1.78,0-2.53.94-2.53,1.84,0,1.18.89,1.73,2.93,2.51,2.66,1,3.94,2.35,3.94,4.55C37.86,36.08,36,38.21,32.05,38.21Z" /></svg>', '<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 48 48"><path d="M14.32 34.41H12.88q-.08-3.64-.42-6.85h0l-2.19 6.85H9.16L7 27.56H7q-.24 3.07-.3 6.85H5.36c.08-3.06.29-5.92.63-8.6H7.78l2.07 6.32h0L12 25.81h1.71q.55 4.7.66 8.6M20.56 28.07A19.35 19.35 0 0 1 18.24 35a3.06 3.06 0 0 1-2.45 1.66 2.41 2.41 0 0 1-.88-.21v-.77a3.54 3.54 0 0 0 .6 0 1.48 1.48 0 0 0 1-.34 1.25 1.25 0 0 0 .46-1A6.3 6.3 0 0 0 16.61 33L15 28.07h1.42l1.13 3.66a5 5 0 0 1 .32 1.75 24.2 24.2 0 0 0 1.3-5.41z" /><polygon points="39.71 34.41 35.63 34.41 35.63 25.81 37 25.81 37 33.35 39.71 33.35 39.71 34.41" /><path fill-rule="evenodd" d="M34.56,34.62,33,33.84a2.87,2.87,0,0,0,.39-.39,5.28,5.28,0,0,0,1-3.5c0-2.84-1.12-4.27-3.35-4.27a3.14,3.14,0,0,0-2.56,1.09,5.26,5.26,0,0,0-1,3.49,5.11,5.11,0,0,0,.89,3.32,3.06,3.06,0,0,0,2.46,1,4,4,0,0,0,1.13-.15L34,35.58Zm-5.12-1.93a5.27,5.27,0,0,1-.53-2.7c0-2.17.66-3.25,2-3.25a1.64,1.64,0,0,1,1.51.78,5.19,5.19,0,0,1,.53,2.67c0,2.18-.66,3.28-2,3.28a1.64,1.64,0,0,1-1.51-.78" /><path d="M26.86,32a2.27,2.27,0,0,1-.8,1.79,3.13,3.13,0,0,1-2.15.7,4.3,4.3,0,0,1-2.44-.8l.36-.74a4.21,4.21,0,0,0,1.85.51,2,2,0,0,0,1.22-.34,1.18,1.18,0,0,0,.46-1c0-.51-.35-.95-1-1.31s-1.81-1-1.81-1a2.05,2.05,0,0,1-1-1.83,2.13,2.13,0,0,1,.73-1.69,2.76,2.76,0,0,1,1.89-.64,4,4,0,0,1,2.18.63l-.33.74a4.2,4.2,0,0,0-1.66-.35,1.5,1.5,0,0,0-1,.31,1.08,1.08,0,0,0-.38.82c0,.51.36.95,1,1.32s1.85,1,1.85,1a2,2,0,0,1,1,1.82" /><path fill-rule="evenodd" d="M41.44,22.93a4.82,4.82,0,0,0-2,.29c-.15.07-.4.07-.42.26s.09.22.16.34a3,3,0,0,0,.54.63c.22.17.44.33.67.48.4.25.86.39,1.26.64l.68.49c.12.08.19.22.33.27v0c-.07-.1-.09-.23-.16-.34s-.21-.19-.31-.3a5.32,5.32,0,0,0-1.08-1c-.34-.23-1.06-.55-1.2-.93l0,0a3.59,3.59,0,0,0,.72-.17c.35-.09.67-.07,1-.16l.49-.15V23.1c-.18-.19-.32-.44-.51-.61a13.46,13.46,0,0,0-1.72-1.28c-.32-.21-.74-.34-1.08-.52-.12-.06-.33-.09-.4-.2a3.84,3.84,0,0,1-.43-.8c-.3-.57-.59-1.2-.85-1.81a11.44,11.44,0,0,0-.53-1.18,10.41,10.41,0,0,0-4-3.88,4.83,4.83,0,0,0-1.33-.43l-.78,0A4.29,4.29,0,0,1,30,12c-.59-.38-2.12-1.19-2.55-.12-.28.68.41,1.34.65,1.68a4.47,4.47,0,0,1,.53.78c.07.18.1.37.17.55a11.25,11.25,0,0,0,.54,1.4,6,6,0,0,0,.38.64c.09.11.23.16.26.35a3.56,3.56,0,0,0-.24.78,4.59,4.59,0,0,0,.3,3.49c.17.26.57.83,1.1.61s.36-.78.49-1.29c0-.13,0-.21.08-.3v0c.14.29.29.57.42.86a6,6,0,0,0,1.35,1.39c.25.19.45.51.76.62v0h0c-.06-.09-.16-.13-.24-.21a4.53,4.53,0,0,1-.54-.62,12.92,12.92,0,0,1-1.16-1.89c-.17-.32-.31-.68-.45-1-.06-.12-.06-.31-.17-.37a4,4,0,0,0-.49.7,5.7,5.7,0,0,0-.29,1.57c-.05,0,0,0-.05,0-.33-.08-.44-.42-.57-.71a4.53,4.53,0,0,1-.09-2.78c.07-.21.38-.9.26-1.11s-.27-.31-.39-.46a4.38,4.38,0,0,1-.37-.67c-.25-.58-.37-1.22-.64-1.81a6.84,6.84,0,0,0-.52-.8,4.35,4.35,0,0,1-.57-.81c-.06-.11-.13-.3-.05-.42a.19.19,0,0,1,.15-.14c.14-.11.52,0,.65.1a4.73,4.73,0,0,1,1,.52c.15.1.3.3.49.35h.22c.33.07.71,0,1,.11a6.64,6.64,0,0,1,1.49.72,9.24,9.24,0,0,1,3.24,3.55c.13.24.18.46.29.71.22.51.49,1,.71,1.53a7.38,7.38,0,0,0,.74,1.39c.15.21.78.33,1.06.44s.53.18.71.29c.36.22.71.47,1,.71.17.13.69.38.72.59" /><path fill-rule="evenodd" d="M30.84,13.91a1.67,1.67,0,0,0-.42.05v0h0a3.5,3.5,0,0,0,.33.43c.09.16.16.33.24.49l0,0a.57.57,0,0,0,.22-.52,2.25,2.25,0,0,1-.12-.21c-.07-.11-.2-.16-.29-.24" /><path d="M42.43,34.41h.21V33.35h-.32l-.26.72-.29-.72h-.31v1.06h.2v-.8h0l.3.8h.16l.3-.8Zm-1.74,0h.23v-.88h.3v-.18h-.84v.18h.31Z" /></svg>', '<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 48 48"><path d="M38.43,20l-4.7,2.87v-6l-2.66,1.71V27l-2.21,1.41L26.43,27V24.38l4.64-2.9-2.18-1.36-4.81,2.82-4.83-3-4.87,2.93L9.6,20,4.77,22.78v5.53L7.14,29.8l0-5.47,2.46-1.47,2.29,1.44,0,5.55,2.51-1.49,4.81,2.8L24,28.36l4.89,2.8,4.87-2.8,4.58,2.8,0-3L36.1,27l0-2.76,2.35-1.36,2.32,1.41v2.55l2.43-1.41v-2.6ZM21.62,27l-2.4,1.38L16.82,27V24.25l2.4-1.38,2.4,1.38Z" /><polygon points="37.13 24.76 37.13 26.28 38.45 27.04 39.76 26.28 39.76 24.76 38.45 24 37.13 24.76" /></svg>', '<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 48 48"><rect width="2" height="4.07" x="22" y="20.93" /><path d="M5.48,16.78V29.15h10.3v2.07H24V29.15H42.52V16.78Zm10.3,4.15v6.14H13.71V20.93H11.63v6.14H7.56V18.85h8.22Zm10.29,6.14H22v2.08H17.85V18.85h8.22ZM40.51,19v8.07H38.44V20.93H36.37v6.14H34.29V20.93H32.22v6.14H28.15V18.85H40.51Z" /></svg>', '<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 48 48"><path d="M34.61 21.33a2.06 2.06 0 0 0-.76-.31 4.45 4.45 0 0 0-.93-.09h-.21c0 .09-.06.33-.13.72s-.18 1-.31 1.72c0 .24-.09.56-.16 1S32 25 32 25.16a5.87 5.87 0 0 0 1-.09 3.73 3.73 0 0 0 .85-.26 2.92 2.92 0 0 0 .94-.73 2.52 2.52 0 0 0 .47-1.14 1.75 1.75 0 0 0-.07-1A1.35 1.35 0 0 0 34.61 21.33zM16.86 21.33A2.22 2.22 0 0 0 16.1 21a4.59 4.59 0 0 0-.93-.09H15c0 .09-.06.33-.13.72s-.17 1-.3 1.72c0 .24-.1.56-.17 1s-.11.68-.14.83a5.69 5.69 0 0 0 1-.09 3.73 3.73 0 0 0 .85-.26 2.92 2.92 0 0 0 .94-.73 2.42 2.42 0 0 0 .48-1.14 1.75 1.75 0 0 0-.08-1A1.39 1.39 0 0 0 16.86 21.33z" /><path d="M16.86 21.33A2.22 2.22 0 0 0 16.1 21a4.59 4.59 0 0 0-.93-.09H15c0 .09-.06.33-.13.72s-.17 1-.3 1.72c0 .24-.1.56-.17 1s-.11.68-.14.83a5.69 5.69 0 0 0 1-.09 3.73 3.73 0 0 0 .85-.26 2.92 2.92 0 0 0 .94-.73 2.42 2.42 0 0 0 .48-1.14 1.75 1.75 0 0 0-.08-1A1.39 1.39 0 0 0 16.86 21.33zM34.61 21.33a2.06 2.06 0 0 0-.76-.31 4.45 4.45 0 0 0-.93-.09h-.21c0 .09-.06.33-.13.72s-.18 1-.31 1.72c0 .24-.09.56-.16 1S32 25 32 25.16a5.87 5.87 0 0 0 1-.09 3.73 3.73 0 0 0 .85-.26 2.92 2.92 0 0 0 .94-.73 2.52 2.52 0 0 0 .47-1.14 1.75 1.75 0 0 0-.07-1A1.35 1.35 0 0 0 34.61 21.33z" /><path d="M24,4.75A18.36,18.36,0,1,0,42.36,23.1,18.36,18.36,0,0,0,24,4.75ZM19.69,22.81a3.85,3.85,0,0,1-.82,1.87A5,5,0,0,1,17.3,25.9a6.34,6.34,0,0,1-1.61.53,8.23,8.23,0,0,1-1.64.17l-.55,3.29H11.31c0-.23.15-.9.35-2s.42-2.34.65-3.68c.11-.65.24-1.4.38-2.26s.3-1.75.45-2.65h1.18a15.56,15.56,0,0,1,2.28.13,5.34,5.34,0,0,1,1.66.51,2.68,2.68,0,0,1,1.23,1.19A2.76,2.76,0,0,1,19.69,22.81Zm8.82-1.41c-.1.58-.19,1.06-.26,1.44l-.18,1c-.07.44-.16,1-.25,1.55s-.17,1-.21,1.27H25.42c0-.2.11-.65.25-1.38s.22-1.21.26-1.47.09-.51.14-.82.09-.58.13-.8a1.49,1.49,0,0,0-.07-1,.73.73,0,0,0-.69-.29,2.64,2.64,0,0,0-.85.18,7.36,7.36,0,0,0-1,.44l-.86,5.11h-2.2c.06-.34.18-1,.37-2.07s.39-2.18.6-3.42c.11-.65.24-1.4.38-2.24s.3-1.77.47-2.76h2.19L23.84,20h0a10.2,10.2,0,0,1,1.53-.62,4.94,4.94,0,0,1,1.37-.24,1.73,1.73,0,0,1,1.46.61A2,2,0,0,1,28.51,21.4Zm8.11,3.28a4.84,4.84,0,0,1-1.56,1.22,6.42,6.42,0,0,1-1.62.53,8.07,8.07,0,0,1-1.63.17l-.55,3.29h-2.2l.36-2c.2-1.11.42-2.34.65-3.68.11-.65.24-1.4.38-2.26s.29-1.75.44-2.65h1.19a15.75,15.75,0,0,1,2.28.13,5.42,5.42,0,0,1,1.66.51,2.61,2.61,0,0,1,1.22,1.19,2.69,2.69,0,0,1,.21,1.7A3.86,3.86,0,0,1,36.62,24.68Z" /><path d="M17.47 22.94A2.42 2.42 0 0 1 17 24.08a2.92 2.92 0 0 1-.94.73 3.73 3.73 0 0 1-.85.26 5.69 5.69 0 0 1-1 .09c0-.15.08-.43.14-.83s.12-.72.17-1c.13-.76.23-1.34.3-1.72s.12-.63.13-.72h.22a4.59 4.59 0 0 1 .93.09 2.22 2.22 0 0 1 .76.31 1.39 1.39 0 0 1 .53.66A1.75 1.75 0 0 1 17.47 22.94zM35.22 22.94a2.52 2.52 0 0 1-.47 1.14 2.92 2.92 0 0 1-.94.73 3.73 3.73 0 0 1-.85.26 5.87 5.87 0 0 1-1 .09c0-.15.07-.43.14-.83s.12-.72.16-1c.13-.76.23-1.34.31-1.72s.11-.63.13-.72h.21a4.45 4.45 0 0 1 .93.09 2.06 2.06 0 0 1 .76.31 1.35 1.35 0 0 1 .54.66A1.75 1.75 0 0 1 35.22 22.94z" /></svg>', '<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 48 48"><path d="M20.08,23.41h7.54a5,5,0,0,0,4.84-4.05V10.2s-1.81-4-9.11-4-8.54,3.35-8.54,3.35v4.71h8.83V16L11.88,16a6.21,6.21,0,0,0-6.25,6.22v5.16a5.45,5.45,0,0,0,5.45,5.46H14V29.48A6.06,6.06,0,0,1,20.08,23.41ZM18.72,12a1.51,1.51,0,1,1,1.51-1.51A1.52,1.52,0,0,1,18.72,12Z" /><path d="M36.92,15.17H34v3.35a6.06,6.06,0,0,1-6.06,6.07H20.38a5,5,0,0,0-4.84,4.05V37.8s1.81,4,9.11,4,8.54-3.35,8.54-3.35V33.77H24.36V32l11.76,0a6.21,6.21,0,0,0,6.25-6.22V20.63A5.45,5.45,0,0,0,36.92,15.17ZM29.28,36a1.51,1.51,0,1,1-1.51,1.51A1.52,1.52,0,0,1,29.28,36Z" /></svg>', '<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 48 48"><path d="M35.93,18.21l-1.2-.38c.07-.27.13-.54.19-.81.9-4.38.31-7.91-1.7-9.07s-5.09,0-8.28,2.83c-.31.26-.62.55-.92.84l-.62-.56c-3.34-3-6.69-4.22-8.7-3.06S12.2,12.43,13,16.58q.12.6.27,1.23c-.47.13-.93.28-1.37.43C8,19.61,5.49,21.75,5.49,24s2.69,4.59,6.77,6c.32.11.66.21,1,.31-.11.45-.21.89-.29,1.32-.77,4.08-.17,7.32,1.76,8.43s5.32,0,8.57-2.87l.77-.72c.33.33.67.63,1,.92,3.14,2.7,6.25,3.8,8.17,2.68s2.63-4.62,1.8-8.85c-.07-.33-.14-.66-.23-1L35.5,30c4.25-1.4,7-3.68,7-6S39.92,19.58,35.93,18.21ZM35,28.47l-.63.2A36,36,0,0,0,32.51,24a36.16,36.16,0,0,0,1.8-4.62c.38.11.75.22,1.1.34,3.43,1.18,5.52,2.93,5.52,4.27S38.67,27.26,35,28.47Zm-1.52,3a13.3,13.3,0,0,1,.17,4.89,3.27,3.27,0,0,1-1.21,2.3c-1.17.67-3.66-.21-6.35-2.52-.31-.27-.62-.55-.93-.85a38.11,38.11,0,0,0,3.1-3.94,37.68,37.68,0,0,0,5-.77C33.36,30.89,33.43,31.19,33.49,31.48ZM18.11,38.55a3.29,3.29,0,0,1-2.59.1c-1.17-.68-1.66-3.28-1-6.76q.11-.6.27-1.23a37,37,0,0,0,5,.72A39.63,39.63,0,0,0,23,35.31l-.7.65A13.56,13.56,0,0,1,18.11,38.55ZM12.77,28.46a13.34,13.34,0,0,1-4.31-2.29A3.29,3.29,0,0,1,7.07,24c0-1.35,2-3.07,5.36-4.24.41-.14.84-.27,1.28-.4A38.16,38.16,0,0,0,15.51,24a37,37,0,0,0-1.82,4.74C13.37,28.66,13.07,28.56,12.77,28.46Zm1.79-12.18c-.69-3.56-.23-6.24.93-6.91s4,.31,6.86,2.87c.19.16.37.33.56.51a37.4,37.4,0,0,0-3.15,3.9,37.87,37.87,0,0,0-4.94.77C14.72,17,14.64,16.65,14.56,16.28Zm16,3.94c-.37-.63-.74-1.25-1.13-1.85,1.18.15,2.32.35,3.38.59-.32,1-.72,2.09-1.19,3.19C31.26,21.51,30.9,20.87,30.53,20.22ZM24,13.88a33.48,33.48,0,0,1,2.18,2.63c-.73,0-1.46-.05-2.2-.05s-1.46,0-2.18.05C22.54,15.56,23.28,14.68,24,13.88Zm-6.55,6.35q-.55,1-1,1.92c-.46-1.09-.85-2.17-1.18-3.21,1.06-.23,2.19-.43,3.36-.57-.39.6-.77,1.23-1.13,1.86Zm1.16,9.45a32.43,32.43,0,0,1-3.41-.55c.33-1.05.73-2.15,1.2-3.26.33.64.68,1.28,1,1.91h0C17.85,28.43,18.23,29.06,18.63,29.68Zm5.43,4.49a34.21,34.21,0,0,1-2.23-2.67c.71,0,1.44.05,2.17.05s1.5,0,2.23-.05A32.53,32.53,0,0,1,24.06,34.17Zm7.55-8.36a34.49,34.49,0,0,1,1.24,3.26,33,33,0,0,1-3.45.58c.38-.61.76-1.23,1.13-1.88S31.27,26.46,31.61,25.81ZM29.17,27c-.58,1-1.18,2-1.78,2.87-1.1.07-2.23.11-3.39.11s-2.27,0-3.35-.1C20,28.94,19.41,28,18.84,27h0c-.57-1-1.1-2-1.58-3,.48-1,1-2,1.57-3h0q.87-1.48,1.8-2.85c1.1-.09,2.23-.13,3.37-.13h0c1.15,0,2.28,0,3.38.13.61.9,1.21,1.85,1.78,2.84s1.11,2,1.6,3Q30,25.48,29.17,27ZM32.43,9.32c1.24.72,1.72,3.6.94,7.38,0,.24-.11.49-.17.74a37.69,37.69,0,0,0-5-.79,38,38,0,0,0-3.12-3.9c.28-.27.56-.53.85-.78C28.71,9.59,31.26,8.65,32.43,9.32Z" /><circle cx="24" cy="23.97" r="3.31" /></svg>', '<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 48 48"><path d="M37.88,29.57c1.84-7.28-2.58-15.8-10.09-20.31,3.33,4.51,4.67,9.86,3.5,14.62a6.9,6.9,0,0,1-.42,1.26,96.11,96.11,0,0,1-16.1-13.21A94,94,0,0,0,24.2,23.8,105.27,105.27,0,0,1,10.76,13.6c.5.84,1.17,1.67,1.84,2.59,3.59,4.6,8.18,10.12,13.77,14.38-3.93,2.42-9.43,2.59-15,0a18.27,18.27,0,0,1-3.84-2.34A23,23,0,0,0,17.77,37c5.18,2.25,10.47,2.28,14.77-.34,1.84-.92,5.51-1.92,7.51,1.92.42,1.09,1.42-3.92-2.34-8.52.09-.17.09-.34.17-.5Z" /></svg>', '<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 48 48"><path d="M6,6V42H42V6ZM26.9,25H22.21V38.76h-3V25H14.57V22.46H26.9ZM32.29,39a9.42,9.42,0,0,1-4.41-1l.66-2.46a8.29,8.29,0,0,0,3.94,1c1.9,0,3-.89,3-2.22s-.82-2-2.89-2.71c-2.69-.95-4.41-2.39-4.41-4.73,0-2.67,2.23-4.68,5.77-4.68a8.66,8.66,0,0,1,3.91.81l-.71,2.4a7,7,0,0,0-3.26-.78c-1.89,0-2.69,1-2.69,2,0,1.25.94,1.84,3.11,2.67,2.84,1.08,4.2,2.5,4.2,4.84C38.47,36.74,36.49,39,32.29,39Z" /></svg>', '<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 48 48"><path d="M33.87,7.28,18.49,22.08l-9-7L7.34,16.25V32l1.93,1.28L18.62,26,33.87,40.72l6.79-2.82V10.23Zm-23.58,21V19.7L14.45,24Zm22.29,1.83L24,24l8.58-6.13Z" /></svg>', '<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 48 48"><path d="M32.72,12.59H27.34L24,18.4l-3.41-5.81H10.77L24,35.41,37.23,12.59ZM20,13.69,23.06,19l1,1.62L25,19l3-5.26h2.84L24,25.5,17.13,13.69Z" /></svg>']

    let form = document.getElementById('nCards')
    let startButton = form.querySelector('#start')

    startButton.addEventListener('click', () => {
        let intro = document.getElementById('intro');
        intro.style.display = 'none';
        let nCards = form.querySelector('input[name="nbCards"]:checked').id;
        nCards = parseInt(nCards);
        let nbCardsArray = [];
        let gameArea = document.getElementById("gameArea");
        let selectedImages = selectImages(nCards, images);
        let shuffledCards = createCards(selectedImages, nCards);
        for (let i = 0; i < nCards; i++) {
            gameArea.appendChild(shuffledCards[i]);
        }
        responsiveGameArea(nCards, gameArea);
        window.addEventListener("resize", function () {
            responsiveGameArea(nCards, gameArea);
        });
        positionDeck(gameArea, nCards);
        animateShuffle(shuffledCards, nCards);

    })
}